<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>使用者資料</title>

    <!-- 共用 Sidebar CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">

    <!-- 專用 User CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}">
</head>

<body class="shopping-body">

    <!-- 左側欄 -->
    <div class="sidebar">
        <h2 class="sidebar-title">使用者資料</h2>

        <p class="sidebar-user">歡迎，{{ user.name }}</p>

        <a href="{{ url_for('shopping') }}"><button class="sidebar-btn">返回購物頁面</button></a>
        <a href="{{ url_for('logout') }}"><button class="sidebar-btn logout-btn">登出</button></a>
    </div>

    <!-- 主內容 -->
    <div class="content-area">

        <!-- 使用者資訊 -->
        <section class="user-section">
            <h2>使用者資訊</h2>
            <div class="user-info-box">
                <p><strong>帳號：</strong>{{ user.account }}</p>
                <p><strong>名稱：</strong>{{ user.name }}</p>
                <p><strong>建立時間：</strong>{{ user.created_at }}</p>
            </div>
        </section>

        <!-- 能力數值 -->
        <section class="user-section">
            <h2>能力數值</h2>
            <div class="stats-box">
                <div class="stat-item">力量：<span id="stat-strength">{{ user.strength }}</span></div>
                <div class="stat-item">智慧：<span id="stat-intelligence">{{ user.intelligence }}</span></div>
                <div class="stat-item">運氣：<span id="stat-luck">{{ user.luck }}</span></div>
            </div>
        </section>

        <!-- 包包 -->
        <section class="user-section">
            <h2>包包（已購買道具）</h2>

            <div class="inventory-grid" id="inventoryGrid"></div>

            <!-- Tooltip -->
            <div id="item-tooltip" class="tooltip-box" style="display:none;"></div>
        </section>

    </div>

    <!-- 使用道具彈窗 -->
    <div id="itemModal" class="modal">
        <div class="modal-content">
            <span id="modalClose" class="modal-close">&times;</span>

            <img id="modalItemImg" class="modal-img">
            <h2 id="modalItemName"></h2>
            <p id="modalItemDesc"></p>
            <p>持有數量：<span id="modalItemQty"></span></p>

            <div class="qty-control">
                <button id="qtyMinus">-</button>
                <span id="useQty">1</span>
                <button id="qtyPlus">+</button>
            </div>

            <button id="useItemBtn" class="use-btn">使用</button>
        </div>
    </div>

    <!-- User JS -->
    <script src="{{ url_for('static', filename='js/user.js') }}"></script>

</body>
</html>
